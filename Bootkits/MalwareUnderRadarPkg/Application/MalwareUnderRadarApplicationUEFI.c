#include <Uefi.h>
#include <Library/UefiBootServicesTableLib.h>
#include <Library/UefiLib.h>
#include <Library/UefiApplicationEntryPoint.h>
#include <Protocol/SimpleTextOut.h>



#include <Functions/1FunctionsNetwork.h>
#include <Functions/2FunctionsLayerApplication.h>



EFI_STATUS
EFIAPI
UefiMain(
    IN      EFI_HANDLE          ImageHandle,
    IN      EFI_SYSTEM_TABLE    *SystemTable)
{
    EFI_STATUS Status;
    EFI_SIMPLE_TEXT_OUTPUT_PROTOCOL *mTextOut;


    Status = gBS->LocateProtocol(
        &gEfiSimpleTextOutProtocolGuid,
        NULL,
        (VOID **)&mTextOut
    );


    Status = FunctionsNetwork_SetupNetwork();


    mTextOut->OutputString(mTextOut, L"Network was initialized\r\n");


    Status = FunctionsLayerApplication_DownloadFileFromUrl();


    mTextOut->OutputString(mTextOut, L"File was downloaded\r\n");


    return EFI_SUCCESS;
}
